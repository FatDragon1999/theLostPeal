<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>è¥¿åŒ—åœ°åŒºå°‘æ•°æ°‘æ—åˆ†å¸ƒå›¾</title>

    <style type="text/css">
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        .anchorBL{
            display: none;
        }
        
        @font-face { 
            font-family: 'æ–°å­—ä½“';  
            src: url(download/font/myFont.TTF); 
        } 
        
        .myTitle{
			z-index: 9999;
		    background-color: transparent;
			color:white;
			font-family: 'æ–°å­—ä½“';
			font-size: 25px;
			position: absolute;
			right: 2%;
			bottom: 10%;
            text-shadow: 2px 2px 2px #E6E6FA;
		}

        /* æ¶ˆæ¯å†…å®¹ */
		.BMap_bubble_content {
			background-color:white;
			padding-left:10px;
			padding-right: 10px;
			padding-top:5px;
			padding-bottom:10px;
		}

        /*åœ°å›¾æ ‡é¢˜*/
		.BMap_bubble_title {
			color:white;
			font-size:13px;
			font-weight:bold;
			text-align: center;
			border-bottom:1px solid white;
			background-color:	#B0C4DE;
			line-height:30px !important;
		}

		/* å·¦ä¸Šè§’åˆ é™¤æŒ‰é”® */
		.BMap_pop img {
            color:transparent;
			top:45px !important;
			/*left:215px !important;*/
			margin-left:-10px;
		}

        .BMap_top {
			display:none;
		}
        .BMap_center{
            display: none;
        }
        .BMap_bottom{
            display: none;
        }

        /* éšè—è¾¹è§’ */
		.BMap_pop div:nth-child(1) div {
			display:none;
		}
		.BMap_pop div:nth-child(3){
            display: none;
        }
        .BMap_pop div:nth-child(5){
            display: none;
        }
        .BMap_pop div:nth-child(7){
            display: none;
        }
       
        /* å†…å®¹ */
		.BMap_pop div:nth-child(9) {
			top:35px !important;
			border-radius:7px;
        }

        #map {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <p class="myTitle">æ•£è½çš„æ˜ç â€”â€”<br><br>è¥¿åŒ—åœ°åŒºå°‘æ•°æ°‘æ—åˆ†å¸ƒçƒ­åŠ›åœ°å›¾</p>
    <div id="map"></div>
    <canvas id="canvas"></canvas>

    <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=m5YH0l8iZEk3sNPWTCSyuC9uiuxmnxym"></script>
    <script type="text/javascript" src="build/mapv.js"></script>

    <script type="text/javascript">
        // ç™¾åº¦åœ°å›¾APIåŠŸèƒ½
        var map = new BMap.Map("map", {
            enableMapClick: false
        });    // åˆ›å»ºMapå®ä¾‹
        map.centerAndZoom(new BMap.Point(107.831562,41.575001), 5);  // åˆå§‹åŒ–åœ°å›¾,è®¾ç½®ä¸­å¿ƒç‚¹åæ ‡å’Œåœ°å›¾çº§åˆ«
        //map.enableScrollWheelZoom(true); // å¼€å¯é¼ æ ‡æ»šè½®ç¼©æ”¾
        madeBoundary();
        map.setMapStyle({
            style: 'midnight'
        });

        function madeBoundary(){
            var datas = new Array("æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº","ç”˜è‚ƒçœ","å†…è’™å¤è‡ªæ²»åŒº","å®å¤å›æ—è‡ªæ²»åŒº");
            var bdary = new BMap.Boundary();
            for(var i = 0;i < datas.length;i++){
                getBoundary(datas[i],bdary);
            }
        }

        function getBoundary(data,bdary){
            //data = data.split("-");
            bdary.get(data,function(rs){
                //map.clearOverlays();
                var count = rs.boundaries.length;
                if(count == 0){
                    alert('æœªèƒ½è·å–å½“å‰è¾“å…¥è¡Œæ”¿åŒºåŸŸ');
                    return;
                }
                var pointArray = [];
                for(var i = 0;i < count;i++){
                    var ply = new BMap.Polygon(rs.boundaries[i],{strokeWeight:1,strokeColor:"#DCDCDC",fillOpacity:0.5,fillColor:"#87CEEB"});
                    map.addOverlay(ply);
                    pointArray = pointArray.concat(ply.getPath());
                }
            });
        }

        map.addEventListener("click",function(e){
		    alert('æ‚¨æ‰€ç‚¹å‡»å¤„ç»çº¬åº¦ä¸º' + e.point.lng + "," + e.point.lat);
	    });

        var data_info = [[79.938859,37.117224,"ç»´å¾å°”æ—","ç»´å¾å°”æ—ä¸»è¦èšå±…åœ¨æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒºï¼Œä¸»è¦åˆ†å¸ƒäºå¤©å±±ä»¥å—ï¼Œå¡”é‡Œæœ¨ç›†åœ°å‘¨å›´çš„ç»¿æ´²æ˜¯ç»´å¾å°”æ—çš„èšå±…ä¸­å¿ƒï¼Œå…¶ä¸­å°¤ä»¥å–€ä»€å™¶å°”ç»¿æ´²ã€å’Œç”°ç»¿æ´²ä»¥åŠé˜¿å…‹è‹æ²³å’Œå¡”é‡Œæœ¨æ²³æµåŸŸæœ€ä¸ºé›†ä¸­ã€‚â€œç»´å¾å°”â€æ˜¯æ°‘æ—è‡ªç§°ï¼Œä¸€èˆ¬è®¤ä¸ºä¸ºâ€œå›¢ç»“â€ã€â€œè”åˆâ€ã€â€œååŠ©â€ä¹‹æ„ã€‚"],
                         [103.206607,35.598421,"ä¸œä¹¡æ—","ä¸œä¹¡æ—æ˜¯ä¸­å›½ç”˜è‚ƒçœçš„ä¸€ä¸ªå°‘æ•°æ°‘æ—ï¼Œæ°‘æ—è¯­è¨€å±é˜¿å°”æ³°è¯­ç³»è’™å¤è¯­æ—ï¼Œæ²¡æœ‰æœ¬æ°‘æ—çš„æ–‡å­—ï¼Œå¤§å¤šæ•°ä¸œä¹¡æ—éƒ½å…¼é€šæ±‰è¯­ï¼Œæ±‰æ–‡ä¸ºä¸œä¹¡æ—çš„é€šç”¨æ–‡å­—ï¼Œä¿¡ä»°ä¼Šæ–¯å…°æ•™é€Šå°¼æ´¾ã€‚ä¸œä¹¡æ—è‡ªæ²»å¿åœ¨ä¸´å¤å›æ—è‡ªæ²»å·ä¸œåŒ—æ–¹ï¼Œæ˜¯å”¯ä¸€ä»¥ä¸œä¹¡æ—ä¸ºä¸»ä½“çš„å°‘æ•°æ°‘æ—è‡ªæ²»å¿ã€‚"],
                         [81.322493,43.927293,"å“ˆè¨å…‹æ—","å“ˆè¨å…‹æ—ï¼Œæ°‘æ—è¯­è¨€ä¸ºå“ˆè¨å…‹è¯­ï¼Œå±é˜¿å°”æ³°è¯­ç³»çªå¥è¯­æ—ï¼Œæ™®éä¿¡ä»°ä¼Šæ–¯å…°æ•™ã€‚å…¶æ°‘æ—ä¸»ä½“åœ¨ä¸­äºšã€è¥¿äºšï¼Œä¸»è¦åˆ†å¸ƒäºå“ˆè¨å…‹æ–¯å¦ã€ä¸­å›½ã€ ä¿„ç½—æ–¯ã€ä¹Œå…¹åˆ«å…‹æ–¯å¦ã€åœŸè€³å…¶ã€è’™å¤ç­‰å›½ã€‚å“ˆè¨å…‹æ—æ—æºå¤æ‚ï¼Œç°åœ¨å¤šè®¤ä¸ºæ˜¯å¤–æ¥æ°‘æ—å’Œæœ¬åœ°äººç§é•¿æœŸèåˆäº§ç”Ÿçš„æ°‘æ—ã€‚"],
                         [106.231597,38.491558,"å›æ—","å›æ—æ˜¯ä¸­å›½äººå£å¾ˆå¤šçš„ä¸€ä¸ªå°‘æ•°æ°‘æ—ï¼Œå›½å†…31ä¸ªçœã€è‡ªæ²»åŒºã€ç›´è¾–å¸‚å‡æœ‰åˆ†å¸ƒã€‚å›æ—åœ¨é¥®é£Ÿä¹ æƒ¯ã€æœé¥°è£…é¥°ã€è¯ç”Ÿå‘½åã€æˆå¹´ä»ªå¼ã€å©šå§»å’Œä¸§è‘¬ã€èŠ‚æ—¥ç­‰ä¹ ä¿—ä¸Šï¼Œéƒ½æœ‰æµ“åšçš„ä¼Šæ–¯å…°æ•™è‰²å½©ã€‚æ¯å¹´ä¸»è¦è¿‡ä¸‰ä¸ªé‡å¤§èŠ‚æ—¥ï¼Œå³å¼€æ–‹èŠ‚ã€å¤å°”é‚¦èŠ‚å’Œåœ£çºªèŠ‚ï¼ŒèŠ‚æ—¥å‡ä»¥ä¼Šæ–¯å…°æ•™å†è®¡ç®—ã€‚"],
                         [111.739261,40.842807,"è’™å¤æ—","è’™å¤æ—æ˜¯ä¸»è¦åˆ†å¸ƒäºä¸œäºšåœ°åŒºçš„ä¸€ä¸ªä¼ ç»Ÿæ¸¸ç‰§æ°‘æ—ï¼Œæ˜¯ä¸­å›½çš„å°‘æ•°æ°‘æ—ä¹‹ä¸€ï¼ŒåŒæ—¶ä¹Ÿæ˜¯è’™å¤å›½çš„ä¸»ä½“æ°‘æ—ã€‚è’™å¤æ—å§‹æºäºä»Šé¢å°”å¤çº³æ²³ä¸œå²¸ä¸€å¸¦ï¼Œäººä»¬ä¸–å±…è‰åŸï¼Œä»¥ç•œç‰§ä¸ºç”Ÿè®¡ï¼Œè¢«è§†ä¸ºè’™å¤æ—æ ‡å¿—ã€‚è¯¥æ°‘æ—åœ¨ç§‘å­¦ã€æ–‡åŒ–ã€éŸ³ä¹ã€èˆè¹ˆç­‰æ–¹é¢éƒ½æœ‰ä¸ä¿—æˆå°±ï¼Œæœ‰ç€ä¸–ç•Œæ–‡åŒ–é—äº§ã€‚"]
                        ];
        
        var data_info2 = [[123.650833,50.5984,"é„‚ä¼¦æ˜¥æ—ï¼ˆäººæ•°æå°‘ï¼‰","é„‚ä¼¦æ˜¥æ—æ˜¯ä¸–å±…æˆ‘å›½ä¸œåŒ—éƒ¨åœ°åŒºçš„äººå£æœ€å°‘çš„æ°‘æ—ä¹‹ä¸€ï¼Œåœ¨é•¿æœŸçš„ç‹©çŒç”Ÿäº§å’Œç¤¾ä¼šå®è·µä¸­ï¼Œé„‚ä¼¦æ˜¥äººåˆ›é€ äº†ä¸°å¯Œå¤šå½©çš„ç²¾ç¥æ–‡åŒ–ï¼Œæœ‰å£å¤´åˆ›ä½œã€éŸ³ä¹ã€èˆè¹ˆã€é€ å‹è‰ºæœ¯ç­‰ã€‚é„‚ä¼¦æ˜¥è¯­å±é˜¿å°”æ³°è¯­ç³»æ»¡â€”é€šå¤æ–¯è¯­æ—é€šå¤æ–¯è¯­æ”¯ï¼Œæ²¡æœ‰æ–‡å­—ï¼Œç°åœ¨ä¸»è¦ä½¿ç”¨æ±‰è¯­æ±‰æ–‡ã€‚"],
                         [120.175132,50.244075,"ä¿„ç½—æ–¯æ—ï¼ˆäººæ•°è¾ƒå°‘ï¼‰","ä¸­å›½çš„ä¿„ç½—æ–¯æ—æ˜¯ä¿„ç½—æ–¯ç§»æ°‘çš„åè£”ï¼Œç°å¤šåˆ†å¸ƒäºä¸­å›½åŒ—æ–¹ã€‚ç»è¿‡ç™¾å¹´çš„åŒåŒ–ï¼Œå…¶å¤–è²Œã€é•¿ç›¸ã€é£ä¿—å’Œä¹ æƒ¯ç­‰ï¼Œå·²ä¸ä¿„ç½—æ–¯çš„ä¿„ç½—æ–¯äººç›¸å·®é€æ¸å˜å¤§ï¼Œä½†ä¸ä¸­å›½å…¶ä»–æ°‘æ—ç›¸æ¯”ï¼Œä»æœ‰æµ“çƒˆçš„ä¿„ç½—æ–¯ç‰¹è‰²ï¼Œä»è€Œå½¢æˆäº†è‡ªå·±çš„æ°‘æ—ç‰¹æœ‰é£æƒ…ã€‚ä¿¡ä»°ä¸Šå¤§éƒ¨åˆ†äººä¿¡ä¸œæ­£æ•™ã€‚"],
                         [119.75388,49.154177,"é„‚æ¸©å…‹æ—ï¼ˆäººæ•°è¾ƒå°‘ï¼‰","é„‚æ¸©å…‹äººæ˜¯å¤§å±±æ—ä¸­çš„ç‹©çŒæ°‘æ—ï¼Œé€æ°´è‰è€Œå±…ï¼Œå…¶åå­—åæ˜ ç€ä»–ä»¬ä¸å±±çš„å†å²æ‚ ä¹…ç»µé•¿ï¼Œå±±å¯¹ä»–ä»¬çš„å½±å“æ·±è¿œæ·±åˆ»ã€‚é„‚æ¸©å…‹æ°‘æ—çš„è¯­è¨€æ–‡åŒ–å…·æœ‰ç‹¬ç‰¹æ€§ï¼Œå±é˜¿å°”æ³°è¯­ç³»ä¹‹é€šå¤æ–¯è¯­æ—åŒ—è¯­æ”¯ï¼Œåœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œé„‚æ¸©å…‹äººå¤šæ•°ä½¿ç”¨æœ¬æ°‘æ—è¯­è¨€ï¼Œä½†æ²¡æœ‰æœ¬æ°‘æ—æ–‡å­—ã€‚"],
                         //[124.520873,48.481936,"è¾¾æ–¡å°”æ—ï¼ˆäººæ•°è¾ƒå°‘ï¼‰","è¾¾æ–¡å°”æ—ä¸»è¦åˆ†å¸ƒäºå†…è’™å¤è‡ªæ²»åŒºã€‚ä»–ä»¬èƒ½å¾å–„æˆ˜ï¼Œåé‡‘ä¸ºå…¥å…³å·©å›ºåæ–¹ï¼Œä¸‰å¾ç´¢ä¼¦ï¼Œæ•…æœ‰ä¿—è¯­â€œç´¢ä¼¦éª‘å°„ç”²å¤©ä¸‹â€ã€‚æ¸…æœå†…å¤–æˆ˜äº‰å‡æœ‰è¾¾æ–¡å°”å°†é¢†å‚ä¸ã€‚æŠ—æ—¥æˆ˜äº‰æ—¶æœŸï¼Œä¸ºä¸œåŒ—åœ°åŒºæŠ—æ—¥åšå‡ºæ°å‡ºè´¡çŒ®ã€‚è¾¾æ–¡å°”æ—èƒ½æ­Œå–„èˆçš„æ°‘æ—ï¼Œæ°‘é—´éŸ³ä¹æœ‰å±±æ­Œã€å¯¹å£å”±å’Œèˆè¯ç­‰å¤šç§å½¢å¼ã€‚"],
                         [89.412316,43.988005,"å¡”å¡”å°”æ—ï¼ˆäººæ•°æœ€å°‘ï¼‰","å¡”å¡”å°”æ—æ—ç§°ä¸ºè‡ªç§°â€œtatarâ€ä¸€è¯çš„éŸ³è¯‘ï¼Œåœ¨æ±‰æ–‡å²ç±ä¸­å¸¸è¢«è¯‘ä¸ºâ€œé‘é¼â€ã€â€œè¾¾æ€›â€ç­‰ã€‚æ˜¯è’™å¤äººç§çš„è¥¿ä¼¯åˆ©äºšç±»å‹ï¼Œæœ‰æœ¬æ°‘æ—çš„è¯­è¨€ï¼Œå±é˜¿å°”æ³°è¯­ç³»çªå¥è¯­æ—è¥¿åŒˆè¯­æ”¯ï¼Œæœ‰ä»¥é˜¿æ‹‰ä¼¯æ–‡å­—ä¸ºåŸºç¡€çš„æ–‡å­—ï¼Œä¸»è¦ä¿¡ä»°ä¸ºä¼Šæ–¯å…°æ•™ã€‚æ˜¯å…¨å›½äººæ•°æœ€å°‘çš„å°‘æ•°æ°‘æ—ï¼Œæˆªæ­¢10å¹´ä¸è¶³4000äººã€‚"],
                         [76.166264,39.726687,"æŸ¯å°”å…‹å­œæ—ï¼ˆäººæ•°è¾ƒå°‘ï¼‰","æŸ¯å°”å…‹å­œæ—æ˜¯ä¸€ä¸ªå…·æœ‰2200å¤šå¹´æ‚ ä¹…å†å²å’Œç’€ç’¨æ–‡åŒ–çš„å¤è€æ°‘æ—ï¼Œæ˜¯å‰å°”å‰æ–¯æ–¯å¦çš„ä¸»ä½“æ°‘æ—ã€‚æ ¹æ®å†å²è®°è½½ï¼Œä¸­å›½å¢ƒå†…çš„æŸ¯å°”å…‹å­œæ—æ˜¯ä»å¶å°¼å¡æ²³æµåŸŸè¿å¾™è€Œæ¥ï¼Œç°åœ¨ä¸»è¦åˆ†å¸ƒåœ¨å¤©å±±å—åŒ—ã€‚æœ‰è‡ªå·±çš„è¯­è¨€â€”â€”æŸ¯å°”å…‹å­œè¯­ï¼Œå±é˜¿å°”æ³°è¯­ç³»çªå¥è¯­æ—ä¸œåŒˆè¯­æ”¯å…‹æ™®æ°å…‹è¯­ç»„ã€‚"],
                         [90.349268,43.946259,"ä¹Œå…¹åˆ«å…‹æ—ï¼ˆäººæ•°è¾ƒå°‘ï¼‰","ä¹Œå­œåˆ«å…‹æ—çš„åç§°ï¼Œæœ€æ—©æ¥æºäº14ä¸–çºªæ—¶è’™å¤å¸å›½çš„ç»„æˆéƒ¨åˆ†ã€å››å¤§æ±—å›½ä¹‹ä¸€çš„é‡‘å¸ï¼ˆé’¦å¯Ÿï¼‰æ±—å›½çš„ä¹Œå­œåˆ«å…‹æ±—ï¼Œåœ¨å…ƒå²ä¸Šç§°ä¸ºâ€œæœˆå³åˆ«â€ã€â€œæœˆç¥–ä¼¯â€ç­‰ã€‚ä¹Œå­œåˆ«å…‹æ±—ä¿¡å¥‰ä¼Šæ–¯å…°æ•™ï¼Œå›½åŠ¿ä¸€åº¦å¼ºç››ï¼Œå£°åå¤§æŒ¯ï¼Œç”±æ­¤è¢«ç§°ä¸ºâ€œä¹Œå­œåˆ«å…‹æ±—å›½â€ï¼Œå±…æ°‘è¢«ç§°ä¸ºâ€œä¹Œå­œåˆ«å…‹æ±—äººâ€ã€‚"]
                        ];

        var opts = {
            width:250,
            height:240,
            title:"è¥¿åŒ—åœ°åŒºä¸»è¦å°‘æ•°æ°‘æ—ä¿¡æ¯",
            enableMessage:true  //å…è®¸çª—å£å‘é€æ¶ˆæ¯
        };

        var myIcon = new BMap.Icon("download/icon/å±±_2.png",new BMap.Size(32,32));
        var myIcon2 = new BMap.Icon("download/icon/ç¾æ™¯.png",new BMap.Size(32,32));

        for(var i = 0; i < data_info.length;i++){
            var marker = new BMap.Marker(new BMap.Point(data_info[i][0],data_info[i][1]),{icon:myIcon});
            var content = "<h5 style = 'margin:0 0 5px;padding:0.2em 0'>"+ data_info[i][2] + "</h5>"+
                         "<p style = 'margin:0;line-height:1.5;font-size:14px;text-indent:2em'>" + data_info[i][3] + "</p>";
            map.addOverlay(marker);
            addClickHandler(content,marker);
            marker.setAnimation(BMAP_ANIMATION_BOUNCE);
        }
        function addClickHandler(content,marker){
            marker.addEventListener("click",function(e){
                openInfo(content,e)
            });
        }
        function openInfo(content,e){
            var p = e.target;
            var point = new BMap.Point(p.getPosition().lng,p.getPosition().lat);
            var infoWindow = new BMap.InfoWindow(content,opts);
            map.openInfoWindow(infoWindow,point);
        }

        for(var i = 0; i < data_info2.length;i++){
            var marker2 = new BMap.Marker(new BMap.Point(data_info2[i][0],data_info2[i][1]),{icon:myIcon2});
            var content2 = "<h5 style = 'margin:0 0 5px;padding:0.2em 0'>"+ data_info2[i][2] + "</h5>"+
                         "<p style = 'margin:0;line-height:1.5;font-size:14px;text-indent:2em'>" + data_info2[i][3] + "</p>";
            map.addOverlay(marker2);
            addClickHandler(content2,marker2);
            marker2.setAnimation(BMAP_ANIMATION_DROP);
        }
        function addClickHandler2(content,marker){
            marker2.addEventListener("click",function(e){
                openInfo2(content2,e)
            });
        }
        function openInfo2(content,e){
            var p = e.target;
            var point = new BMap.Point(p.getPosition().lng,p.getPosition().lat);
            var infoWindow = new BMap.InfoWindow(content2,opts);
            map.openInfoWindow(infoWindow,point);
        }

        var data = [];
        var randomCount = 75;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //107.132465,39.782316
                    coordinates:[107.132465 + Math.random() * 5,39.782316 + Math.random() * 2]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 75;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //106.322984,35.693166
                    coordinates:[106.322984 + Math.random() * 1.5,35.693166 + Math.random() * 4]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 40;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //112.651654,42.941619
                    coordinates:[112.651654 + Math.random() * 5,40.941619 + Math.random() * 4]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 40;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //118.796351,43.022667
                    coordinates:[115.796351 + Math.random() * 5,43.022667 + Math.random() * 4]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 40;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //120.967232,45.196254
                    coordinates:[120.967232 + Math.random() * 2,45.196254 + Math.random() * 4]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 40;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //102.919484,35.573006
                    coordinates:[101.919484 + Math.random() * 2,33.573006 + Math.random() * 4]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 30;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //104.152103,40.093888
                    coordinates:[104.152103 + Math.random() * 3,40.093888 + Math.random() * 2]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 80;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //119.900189,48.526271
                    coordinates:[119.900189 + Math.random() * 3.5,48.526271 + Math.random() * 3.5]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 80;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //87.042617,42.616353
                    coordinates:[87.042617 + Math.random() * 4.5,42.016353 + Math.random() * 4.5]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 95;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //103.379416,36.469749
                    coordinates:[103.379416 + Math.random() * 4.5,36.469749 + Math.random() * 4]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 30;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //79.978055,36.291225
                    coordinates:[79.978055 + Math.random() * 2,36.291225 + Math.random() * 2]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 30;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //75.010784,39.583299
                    coordinates:[75.010784 + Math.random() * 3,38.583299 + Math.random() * 2]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 30;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //87.42896,39.44079
                    coordinates:[87.42896 + Math.random() * 2,39.44079 + Math.random() * 2]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 40;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //81.98336,43.076639
                    coordinates:[81.98336 + Math.random() * 3,43.076639 + Math.random() * 3]
                },
                count: 20 * Math.random(),
            });
        }

        var randomCount = 10;
            while(randomCount--){
                data.push({
                geometry: {
                    type: 'Point', //87.520946,46.937689
                    coordinates:[87.520946 + Math.random() * 1,46.937689 + Math.random() * 1]
                },
                count: 20 * Math.random(),
            });
        }


        var dataSet = new mapv.DataSet(data);
        var options = {
            size: 13,
            gradient: { 0.25: "rgb(0,0,255)", 0.55: "rgb(0,255,0)", 0.85: "yellow", 1.0: "rgb(255,0,0)"},
            max: 100,
            draw: 'heatmap'
        }
        var mapvLayer = new mapv.baiduMapLayer(map, dataSet, options);

        // å¤æ‚çš„è‡ªå®šä¹‰è¦†ç›–ç‰©
        function ComplexCustomOverlay(point, text, mouseoverText){
          this._point = point;
          this._text = text;
          this._overText = mouseoverText;
        }
        ComplexCustomOverlay.prototype = new BMap.Overlay();
        ComplexCustomOverlay.prototype.initialize = function(map){
            this._map = map;
            var div = this._div = document.createElement("div");
            div.style.position = "absolute";
            div.style.zIndex = BMap.Overlay.getZIndex(this._point.lat);
            //div.style.backgroundColor = "#87CEEB";
            div.style.backgroundColor = "transparent";
            div.style.border = "1px solid transparent";//#EE5D5B
            div.style.color = "white";
            div.style.height = "18px";
            div.style.padding = "2px";
            div.style.lineHeight = "18px";
            div.style.whiteSpace = "nowrap";
            div.style.MozUserSelect = "none";
            div.style.fontSize = "12px";
            var span = this._span = document.createElement("span");
            div.appendChild(span);
            span.appendChild(document.createTextNode(this._text));      
            var that = this;

            var arrow = this._arrow = document.createElement("div");
            arrow.style.background = "url(http://map.baidu.com/fwmap/upload/r/map/fwmap/static/house/images/label.png) no-repeat";
            arrow.style.position = "absolute";
            arrow.style.width = "11px";
            arrow.style.height = "10px";
            arrow.style.top = "22px";
            arrow.style.left = "10px";
            arrow.style.overflow = "hidden";
            //arrow.style.backgroundColor = "transparent";
            div.appendChild(arrow);
     
            div.onmouseover = function(){
                this.style.backgroundColor = "transparent";
                this.style.borderColor = "#B0C4DE";
                this.getElementsByTagName("span")[0].innerHTML = that._overText;
                arrow.style.backgroundPosition = "0px -20px";
            }

            div.onmouseout = function(){
                this.style.backgroundColor = "transparent";
                this.style.borderColor = "transparent";
                this.getElementsByTagName("span")[0].innerHTML = that._text;
                arrow.style.backgroundPosition = "0px 0px";
            }

            map.getPanes().labelPane.appendChild(div); 
            return div;
        }

        ComplexCustomOverlay.prototype.draw = function(){
            var map = this._map;
            var pixel = map.pointToOverlayPixel(this._point);
            this._div.style.left = pixel.x - parseInt(this._arrow.style.left) + "px";
            this._div.style.top  = pixel.y - 30 + "px";
        }

        var txt = "è¯¥åœ°ä¸»è¦åˆ†å¸ƒå°‘æ•°æ°‘æ—ï¼š", mouseoverTxt = txt + "è’™å¤æ—";
        var text_point = [[88.10966,40.093888],[107.647589,40.852585],[116.036756,43.960265]];
        for(var i = 0;i < text_point.length;i++){
            var myCompOverlay = new ComplexCustomOverlay(new BMap.Point(text_point[i][0],text_point[i][1]),"ğŸŒ±ğŸ‘ğŸŒ±",mouseoverTxt); 
            map.addOverlay(myCompOverlay);
        }

        var txt2 = "è¯¥åœ°ä¸»è¦åˆ†å¸ƒå°‘æ•°æ°‘æ—ï¼š",mouseoverTxt2 = txt2 + "å“ˆè¨å…‹æ—ã€å›æ—ã€è’™å¤æ—ã€ç»´å¾å°”æ—";
        var text_point2 = [[88.146454,47.812486]];
        for(var i = 0;i < text_point2.length;i++){
            var myCompOverlay2 = new ComplexCustomOverlay(new BMap.Point(text_point2[i][0],text_point2[i][1]),"ğŸŒ±ğŸ‘ğŸŒ²",mouseoverTxt2); 
            map.addOverlay(myCompOverlay2);
        }

        var txt3 = "è¯¥åœ°ä¸»è¦åˆ†å¸ƒå°‘æ•°æ°‘æ—ï¼š",mouseoverTxt3 = txt3 + "ç»´å¾å°”æ—";
        var text_point3 = [[76.776925,38.839038],[87.520946,43.82722]];
        for(var i = 0;i < text_point3.length;i++){
            var myCompOverlay3 = new ComplexCustomOverlay(new BMap.Point(text_point3[i][0],text_point3[i][1]),"ğŸˆğŸ‡ğŸ‘",mouseoverTxt3); 
            map.addOverlay(myCompOverlay3);
        }

        var txt4 = "è¯¥åœ°ä¸»è¦åˆ†å¸ƒå°‘æ•°æ°‘æ—ï¼š",mouseoverTxt4 = txt4 + "å›æ—";
        var text_point4 = [[86.932233,44.515785]];
        for(var i = 0;i < text_point4.length;i++){
            var myCompOverlay4 = new ComplexCustomOverlay(new BMap.Point(text_point4[i][0],text_point4[i][1]),"ğŸ•ŒğŸ•ŒğŸ•Œ",mouseoverTxt4); 
            map.addOverlay(myCompOverlay4);
        }
        

    </script>
	
</body>
</html>
