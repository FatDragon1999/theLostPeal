<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>少数民族分布热力图</title>

    <style type="text/css">
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        .anchorBL{
            display: none;
        }
        
        .myTitle{
			z-index: 9999;
		    background-color: transparent;
			color:white;
			font-family: '宋体';
			font-size: 20px;
			position: absolute;
			left: 38%;
			top: 6%;
            text-shadow: 2px 2px 2px #E6E6FA;
		}

        #map {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <p class="myTitle">散落的明珠——少数民族分布热力地图</p>
    <div id="map"></div>
    <canvas id="canvas"></canvas>

    <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=m5YH0l8iZEk3sNPWTCSyuC9uiuxmnxym"></script>
    <script type="text/javascript" src="build/mapv.js"></script>

    <script type="text/javascript">
        // 百度地图API功能
        var map = new BMap.Map("map", {
            enableMapClick: false
        });    // 创建Map实例
        map.centerAndZoom(new BMap.Point(105.403119, 38.028658), 5);  // 初始化地图,设置中心点坐标和地图级别
        map.enableScrollWheelZoom(true); // 开启鼠标滚轮缩放

        map.setMapStyle({
            style: 'midnight'
        });

        var randomCount = 300;

        var data = [];

        var citys = ["北京","天津","上海","重庆","石家庄","太原","呼和浩特","哈尔滨","长春","沈阳","济南","南京","合肥","杭州","南昌","福州","郑州","武汉","长沙","广州","南宁","西安","银川","兰州","西宁","乌鲁木齐","成都","贵阳","昆明","拉萨","海口"];

        //"贵阳", g: "106.709177,26.629907
        var randomCount = 30;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [106.709177 + Math.random() * 2,26.629907 + Math.random() *2]
            },
            count: 50 * Math.random(),
        });
        }
        //"河北", g: "115.661434,38.61384
        var randomCount = 30;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [115.661434 + Math.random() * 2, 38.61384  + Math.random() *2]
            },
            count: 40 * Math.random(),
        });   
        }
        //怒江州", g: "98.859932,25.860677
        var randomCount = 30;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [98.859932 + Math.random() * 1,25.860677 + Math.random() * 1]
            },
            count: 40 * Math.random(),
        });
        }
        //广西", g: "108.924274,23.552255
        var randomCount = 30;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [108.924274 + Math.random() * 2.5,23.552255 + Math.random() * 2.5]
            },
            count: 40 * Math.random(),
        });
        }
        //南宁", g: "108.297234,22.806493
        data.push({
            geometry: {
                type: 'Point',
                coordinates: [108.297234,22.806493]
            },
            count: 40 * Math.random(),
        });
        //德宏州", g: "98.589434,24.44124
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [98.589434,24.44124]
            },
            count: 40 * Math.random(),
        });
        }
        //辽宁", g: "122.753592,41.6216
        var randomCount = 30;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [122.753592 + Math.random() * 2.5,41.6216 + Math.random() * 1]
            },
            count: 30 * Math.random(),
        });
        }
        //湖南 111.720664,27.695864
        var randomCount = 30;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [111.720664 + Math.random() * 2.5,27.695864 + Math.random() * 1]
            },
            count: 30 * Math.random(),
        });
        }
        //怀化", g: "109.986959,27.557483
        data.push({
            geometry: {
                type: 'Point',
                coordinates: [109.986959,27.557483]
            },
            count: 10 * Math.random(),
        });
        //湘西土家族苗族自治州 109.738106,28.317877
        data.push({
            geometry: {
                type: 'Point',
                coordinates: [109.738106,28.317877]
            },
            count: 10 * Math.random(),
        });
        //新疆 伊犁州", g: "81.297854,43.922248
        var randomCount = 15;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [81.297854 + Math.random() * 1,43.922248 + Math.random() * 1]
            },
            count: 30 * Math.random(),
        });
        }
        //西双版纳", g: "100.803038,22.009433
        var randomCount = 25;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [100.803038 + Math.random() * 1,22.009433 + Math.random() * 1]
            },
            count: 40 * Math.random(),
        });
        }
        // 乌鲁木齐", g: "87.564988,43.84038
        var randomCount = 25;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [87.564988 + Math.random() * 2,43.84038 + Math.random() * 2]
            },
            count: 30 * Math.random(),
        });
        }
        //丽江", g: "100.229628,26.875351
        var randomCount = 25;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [100.229628  + Math.random() * 0.6,26.875351  + Math.random() * 0.6]
            },
            count: 30 * Math.random(),
        });
        }
        //昆明", g: "102.714601,25.049153
        var randomCount = 25;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [102.714601  + Math.random() * 1,25.049153  + Math.random() * 1]
            },
            count: 30 * Math.random(),
        });
        }
        //吉林", g: "126.564544,43.871988
        var randomCount = 25;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [126.564544 + Math.random() * 2.5,43.871988 + Math.random() * 1]
            },
            count: 40 * Math.random(),
        });
        }
        //呼和浩特", g: "111.660351,40.828319
        var randomCount = 30;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [111.660351 + Math.random() * 4,40.828319 + Math.random() * 1]
            },
            count: 30 * Math.random(),
        });
        }
        //呼伦贝尔", g: "119.760822,49.201636
        var randomCount = 30;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [111.660351 + Math.random() * 2,40.828319 + Math.random() * 1]
            },
            count: 30 * Math.random(),
        });
        }
        //哈尔滨 126.657717,45.773225
        var randomCount = 40;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [126.657717 + Math.random() * 3,45.773225 + Math.random() * 3]
            },
            count: 40 * Math.random(),
        });
        }
        //恩施", g: "109.517433,30.308978
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [109.517433 + Math.random() * 1,30.308978 + Math.random() * 1]
            },
            count: 30 * Math.random(),
        });
        }
        //重庆", g: "106.530635,29.544606 秀山县109.010129,28.453955
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [109.010129 + Math.random() * 1,28.453955 + Math.random() * 1]
            },
            count: 30 * Math.random(),
        });
        }
        //云南怒江傈僳族兰坪县 99.419262,26.444716
        var randomCount = 25;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [99.419262 + Math.random() * 1,26.444716 + Math.random() * 1]
            },
            count: 40 * Math.random(),
        });
        }
        //西藏 墨脱县 林芝市94.363455,29.654544
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [94.363455 + Math.random() * 2,29.654544 + Math.random() * 2]
            },
            count: 20 * Math.random(),
        });
        }
        //甘肃", g: "102.457625,38.103267
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [102.457625 + Math.random() * 1,38.103267 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //兰州", g: "103.823305,36.064226
        data.push({
            geometry: {
                type: 'Point',
                coordinates: [103.823305,36.064226]
            },
            count: 20 * Math.random(),
        });
        //广西 河池", g: "108.069948,24.699521
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [108.069948,24.699521]
            },
            count: 20 * Math.random(),
        });
        }
        //青海 海东地区", g: "102.085207,36.51761
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [102.085207 + Math.random() * 1,36.51761 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //云南 迪庆州", g: "99.713682,27.831029
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates: [99.713682 + Math.random() * 1,27.831029 + Math.random() * 1]
            },
            count: 30 * Math.random(),
        });
        }
        //北京", g: "116.395645,39.929986
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[116.395645 + Math.random() * 0.1,39.929986 + Math.random() * 0.1]
            },
            count: 20 * Math.random(),
        });
        }
        //四川 阿坝州", g: "102.228565,31.905763
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[102.228565 + Math.random() * 1,31.905763 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //河南", g: "113.486804,34.157184
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[113.486804 + Math.random() * 2,34.157184 + Math.random() * 2]
            },
            count: 10 * Math.random(),
        });
        }
        //"张家界", g: "110.48162,29.124889
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[110.48162 + Math.random() * 1,29.124889 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //宁夏 银川", g: "106.206479,38.502621
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[110.48162 + Math.random() * 1,38.502621 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //延边", g: "129.485902,42.896414
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[129.485902 + Math.random() * 1,42.896414 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //新疆 吉昌州 新疆木垒哈萨克自治县 90.291364,43.841974
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[90.291364 + Math.random() * 1,43.841974 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //西宁", g: "101.767921,36.640739
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[101.767921 + Math.random() * 1,36.640739 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //西藏 林芝市 察隅县 97.467522,28.66998
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[97.467522 + Math.random() * 1,28.66998 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //温州", g: "120.690635,28.002838
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[120.690635 + Math.random() * 0.5,28.002838 + Math.random() * 0.5]
            },
            count: 10 * Math.random(),
        });
        }
        //台湾 嘉义市 阿里山 97.467522,28.66998
        // 120.961454,23.80406 台湾
        var randomCount = 5;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[120.961454,23 + Math.random() * 1,23.80406 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //福建 三明", g: "117.642194,26.270835
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[117.642194 + Math.random() * 0.5,26.270835 + Math.random() * 0.5]
            },
            count: 10 * Math.random(),
        });
        }
        //三亚", g: "109.522771,18.257776
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[109.522771 + Math.random() * 0.5,18.257776 + Math.random() * 0.5]
            },
            count: 10 * Math.random(),
        });
        }
        //金华", g: "119.652576,29.102899
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[119.652576 + Math.random() * 0.5,29.102899 + Math.random() * 0.5]
            },
            count: 10 * Math.random(),
        });
        }
        //玉树州", g: "97.013316,33.00624
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[97.013316 + Math.random() * 0.5,33.00624 + Math.random() * 0.5]
            },
            count: 20 * Math.random(),
        });
        }
        //"黔西南州", g: "104.900558,25.095148
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[104.900558 + Math.random() * 1,25.095148 + Math.random() * 1]
            },
            count: 15 * Math.random(),
        });
        }
        //黔南州", g: "107.523205,26.264536
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[107.523205 + Math.random() * 1,26.264536 + Math.random() * 1]
            },
            count: 15 * Math.random(),
        });
        }
        //黔东南州", g: "107.985353,26.583992
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[107.985353 + Math.random() * 1,26.583992 + Math.random() * 1]
            },
            count: 15 * Math.random(),
        });
        }
        //齐齐哈尔", g: "123.987289,47.3477
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[123.987289 + Math.random() * 1,47.3477 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //江西", g: "115.676082,27.757258
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[115.676082 + Math.random() * 1,27.757258 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //柳州", g: "109.422402,24.329053
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[109.422402 + Math.random() * 1,24.329053 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //云南 临沧", g: "100.092613,23.887806
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[100.092613 + Math.random() * 1,23.887806 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //凉山州", g: "102.259591,27.892393
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[102.259591 + Math.random() * 1,27.892393 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //澜沧县99.923642,22.559696
        var randomCount = 20;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[99.923642 + Math.random() * 1,22.559696 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //拉萨", g: "91.111891,29.662557
        //西藏", g: "89.137982,31.367315
        var randomCount = 30;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[86.137982 + Math.random() * 4,29.367315 + Math.random() * 4]
            },
            count: 10 * Math.random(),
        });
        }
        var randomCount = 30;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[91.111891 + Math.random() * 1,29.662557 + Math.random() * 1]
            },
            count: 15 * Math.random(),
        });
        }
        //合肥", g: "117.282699,31.866942
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[117.282699 + Math.random() * 1,31.866942 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //济南", g: "117.024967,36.682785
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[117.024967 + Math.random() * 1,36.682785 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //红河州", g: "103.384065,23.367718
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[103.384065 + Math.random() * 1,23.367718 + Math.random() * 1]
            },
            count: 10 * Math.random(),
        });
        }
        //黑龙江佳木斯市同江市街津口赫哲族乡 132.854293,47.941867
        //130.284735,46.81378
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[130.284735 + Math.random() * 1,46.81378 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //甘孜州", g: "101.969232,30.055144
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[130.284735 + Math.random() * 1,46.81378 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //张掖", g: "100.459892,38.93932 甘肃省肃南裕固族自治县
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[100.459892 + Math.random() * 1,38.93932 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //临夏州", g: "103.215249,35.598514
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[103.215249 + Math.random() * 1,35.598514 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //甘南州", g: "102.917442,34.992211
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[102.917442 + Math.random() * 1,34.992211 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //福州", g: "119.330221,26.047125
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[119.330221 + Math.random() * 1,26.047125 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //广西 防城港", g: "108.351791,21.617398
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[108.351791 + Math.random() * 1,21.617398 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //大理州", g: "100.223675,25.5969
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[100.223675 + Math.random() * 1,25.5969 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //"成都", g: "104.067923,30.679943
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[104.067923 + Math.random() * 1,30.679943 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //毕节地区", g: "105.300492,27.302612
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[105.300492 + Math.random() * 1,27.302612 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }
        //广州", g: "113.30765,23.120049
        var randomCount = 10;
        while(randomCount--){
            data.push({
            geometry: {
                type: 'Point',
                coordinates:[113.30765 + Math.random() * 1,23.120049 + Math.random() * 1]
            },
            count: 20 * Math.random(),
        });
        }




        var dataSet = new mapv.DataSet(data);

        var options = {
            size: 13,
            gradient: { 0.25: "rgb(0,0,255)", 0.55: "rgb(0,255,0)", 0.85: "yellow", 1.0: "rgb(255,0,0)"},
            //gradient: { 0.25: "rgb(175,238,238)", 0.55: "rgb(72,209,204)", 0.85: "rgb(100,149,237)", 1.0: "rgb(47,79,79)"},//绿色系
            //gradient: { 0.25: "rgb(175,238,238)", 0.55: "rgb(72,209,204)", 0.85: "rgb(32,178,170)", 1.0: "rgb(0,128,128)"}, //发霉绿色
            //gradient: { 0.25: "rgb(175,238,238)", 0.55: "rgb(72,209,204)", 0.85: "rgb(32,178,170)", 1.0: "rgb(34,139,34)"}, //外围浅绿色，里面深绿
            //gradient: { 0.25: "rgb(255,160,122)", 0.55: "rgb(255,127,80)", 0.85: "rgb(255,69,0)", 1.0: "rgb(255,99,71)"},
            max: 100,
            //range: [0, 100], // 过滤显示数据范围
            //minOpacity: 0.5, // 热力图透明度
            //maxOpacity: 1,
            draw: 'heatmap'
        }

        var mapvLayer = new mapv.baiduMapLayer(map, dataSet, options);
    </script>
	
</body>
</html>
